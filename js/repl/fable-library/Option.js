import{compare,equals,structuralHash}from"./Util.js";export class Some{constructor(u){this.value=u}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return structuralHash(this.value)}Equals(u){return null!=u&&equals(this.value,u instanceof Some?u.value:u)}CompareTo(u){return null==u?1:compare(this.value,u instanceof Some?u.value:u)}}export function some(u){return null==u||u instanceof Some?new Some(u):u}export function value(u){if(null==u)throw new Error("Option has no value");return u instanceof Some?u.value:u}export function ofNullable(u){return null==u?void 0:u}export function toNullable(u){return null==u?null:value(u)}export function flatten(u){return null==u?void 0:value(u)}export function toArray(u){return null==u?[]:[value(u)]}export function defaultArg(u,e){return null!=u?value(u):e}export function defaultArgWith(u,e){return null!=u?value(u):e()}export function orElse(u,e){return null==u?e:u}export function orElseWith(u,e){return null==u?e():u}export function filter(u,e){return null!=e?u(value(e))?e:void 0:e}export function map(u,e){return null!=e?some(u(value(e))):void 0}export function map2(u,e,n){return null!=e&&null!=n?u(value(e),value(n)):void 0}export function map3(u,e,n,t){return null!=e&&null!=n&&null!=t?u(value(e),value(n),value(t)):void 0}export function bind(u,e){return null!=e?u(value(e)):void 0}export function tryOp(u,e){try{return some(u(e))}catch(u){return}}